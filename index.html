<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Terminal Portfolio</title>

  <style>
    :root {
      /* SITE THEME */
      --bg: #0b0b0b;
      --accent: #33ff33;
      --text: #caffca;

      /* POPUP */
      --popup-bg: color-mix(in srgb, var(--bg) 92%, var(--accent) 8%);
      --popup-header: color-mix(in srgb, var(--bg) 85%, var(--accent) 15%);
      --popup-border: color-mix(in srgb, var(--accent) 80%, #000 20%);
      --popup-text: color-mix(in srgb, var(--text) 80%, var(--accent) 20%);
      --popup-title: color-mix(in srgb, var(--text) 70%, var(--accent) 30%);
      --popup-shadow: color-mix(in srgb, var(--accent) 35%, transparent);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
      line-height: 1.4;
    }

    #terminal {
      padding: 18px;
      max-width: 980px;
      margin: 0 auto;
      min-height: 100vh;
    }

    .line {
      white-space: pre-wrap;
    }

    .small {
      opacity: 0.9;
      font-size: 0.95em;
    }

    .input-line {
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 2px;
    }

    .prompt {
      color: var(--accent);
      text-shadow: 0 0 10px color-mix(in srgb, var(--accent) 25%, transparent);
    }

    input.cmd {
      flex: 1;
      min-width: 240px;
      background: transparent;
      border: none;
      outline: none;
      color: var(--text);
      font: inherit;
      padding: 2px 0;
      caret-color: var(--accent);
    }
  </style>
</head>

<body>
  <div id="terminal"></div>

  <script>
    const terminal = document.getElementById("terminal");

    /* =======================
       PROJECT TEMPLATE SYSTEM
       ======================= */
    const PROJECTS = {
      "portfolio-website": {
        title: "Portfolio Website",
        content: [
          "Type: Web Project",
          "Tech: HTML, CSS, JavaScript",
          "",
          "Description:",
          "A terminal-inspired portfolio that mimics",
          "a command-line interface for navigation.",
          "",
          "Features:",
          "- Typing animations",
          "- Modular commands",
          "- Responsive terminal layout",
          "- Project pop-up system"
        ]
      },

      "esports-discordbot": {
        title: "Discord Bot for an Esports Server",
        content: [
          "Type: Discord Bot",
          "Tech: Python",
          "",
          "Description:",
          "A Discord bot used to automate server welcomes,",
          "schedule battles, and manage announcements.",
          "",
          "Features:",
          "- 1v1 Battles",
          "- Points Shop & Redeem",
          "- Announcements",
          "- Leaderboards",
          "- Points System"
        ]
      },

      "business-discordbot": {
        title: "Discord Bot for my Business Server",
        content: [
          "Type: Discord Bot",
          "Tech: Python",
          "",
          "Description:",
          "A Discord bot used to automate server welcomes,",
          "schedule playtests, manage announcements, feedbacks, patchnotes.",
          "",
          "Features:",
          "- Schedule Game Playtests",
          "- Get Feedback",
          "- Announcements",
          "- Push out patch notes to my community",
          "- Community Spotlight shout out a member"
        ]
      },

      "small-multiplayer-prop-hunt": {
        title: "Local Multiplayer Prop Hunt",
        content: [
          "Type: Multiplayer Prop Hunt",
          "Tech: Unreal Engine Blueprints",
          "",
          "Description:",
          "I coded and tested a small multiplayer prop hunt game",
          "using local connections inside the college games hub.",
          "",
          "Features:",
          "- Prop Changing",
          "- Join and Create Servers",
          "- Destroying Props",
          "- Hiders and Seekers"
        ]
      }
    };

    const SKILLS = {
      technical: [
        "Unreal Engine",
        "Unity",
        "C++ / C#",
        "Gameplay Programming",
        "Level Design",
        "Animation Blueprints",
        "Python",
        "Web Programming",
        "Software Programming",
        "Godot"
      ],
      software: [
        "Blender / 3DS Max",
        "JavaScript",
        "Microsoft PowerPoint",
        "Microsoft Excel",
        "Trello"
      ],
      soft: [
        "Teamwork",
        "Problem-Solving",
        "Creativity",
        "Leadership"
      ]
    };

    function appendLine(text = "", cls = "line") {
      const el = document.createElement("div");
      el.className = cls;
      el.textContent = text;
      terminal.appendChild(el);
      window.scrollTo(0, document.body.scrollHeight);
      return el;
    }

    function appendElement(node) {
      terminal.appendChild(node);
      window.scrollTo(0, document.body.scrollHeight);
      return node;
    }

    function typeText(text, speed = 20) {
      return new Promise((resolve) => {
        const el = document.createElement("div");
        el.className = "line";
        terminal.appendChild(el);

        let i = 0;
        const t = setInterval(() => {
          el.textContent += text.charAt(i);
          i++;
          if (i >= text.length) {
            clearInterval(t);
            appendLine();
            resolve();
          }
        }, speed);
      });
    }

    /* =======================
       TERMINAL POPUP WINDOW
       ======================= */
    const rootStyles = getComputedStyle(document.documentElement);
    const ACCENT = rootStyles.getPropertyValue("--accent").trim() || "#33ff33";
    const TEXT = rootStyles.getPropertyValue("--text").trim() || "#caffca";

    const modal = document.createElement("div");
    modal.style.cssText = `
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.75);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 999;
      padding: 18px;
    `;

    const modalWindow = document.createElement("div");
    modalWindow.style.cssText = `
      background: #0b0b0b;
      border: 1px solid ${ACCENT};
      width: 600px;
      max-width: 92%;
      box-shadow: 0 0 22px rgba(51,255,51,.25);
      border-radius: 12px;
      overflow: hidden;
    `;

    const modalHeader = document.createElement("div");
    modalHeader.style.cssText = `
      background: #111;
      padding: 8px 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: .92em;
    `;

    const modalTitle = document.createElement("span");
    modalTitle.style.color = TEXT;

    const modalClose = document.createElement("span");
    modalClose.textContent = "✕";
    modalClose.style.cssText = `
      cursor: pointer;
      color: #ff6666;
      padding: 2px 10px;
      border-radius: 10px;
      user-select: none;
    `;

    modalHeader.appendChild(modalTitle);
    modalHeader.appendChild(modalClose);

    const modalBody = document.createElement("div");
    modalBody.style.cssText = `
      padding: 14px;
      white-space: pre-wrap;
      line-height: 1.5;
      color: ${TEXT};
    `;

    modalWindow.appendChild(modalHeader);
    modalWindow.appendChild(modalBody);
    modal.appendChild(modalWindow);
    document.body.appendChild(modal);

    modalClose.onclick = () => (modal.style.display = "none");
    modal.onclick = (e) => {
      if (e.target === modal) modal.style.display = "none";
    };

    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape") modal.style.display = "none";
    });

    function openProject(key) {
      const p = PROJECTS[key];
      if (!p) {
        appendLine("Project not found: " + key);
        return;
      }
      modalTitle.textContent = p.title;
      modalBody.textContent = p.content.join("\n");
      modal.style.display = "flex";
    }

    function makePrompt() {
      const row = document.createElement("div");
      row.className = "input-line";

      const p = document.createElement("span");
      p.className = "prompt";
      p.textContent = "User@portfolio:~$";

      const input = document.createElement("input");
      input.className = "cmd";
      input.autocomplete = "off";
      input.spellcheck = false;

      row.appendChild(p);
      row.appendChild(input);
      appendElement(row);
      input.focus();

      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          const cmd = input.value.trim();
          input.disabled = true;
          processCommand(cmd);
        }

        if (e.ctrlKey && (e.key === "c" || e.key === "C")) {
          appendLine("^C");
          input.disabled = true;
          makePrompt();
        }
      });
    }

    function processCommand(raw) {
      appendLine("User@portfolio:~$ " + raw, "small");
      const cmd = raw.toLowerCase();

      if (PROJECTS[cmd]) {
        openProject(cmd);
        makePrompt();
        return;
      }

      switch (cmd) {
        case "help":
          appendLine("Commands:");
          appendLine("help, skills, projects, contact, about-me, clear");
          appendLine("Type a project name to open it");
          break;

        case "skills":
          Object.values(SKILLS)
            .flat()
            .forEach((s) => appendLine(s));
          break;

        case "projects":
          appendLine("Projects:");
          Object.keys(PROJECTS).forEach((p) => appendLine("- " + p));
          break;

        case "contact":
          appendLine("Email: d3valexstudios@hotmail.com");
          break;

        case "about-me":
          appendLine("Sonny Bolton — Game Developer");
          appendLine("Focused on Unreal, Unity, and gameplay systems.");
          break;

        case "clear":
          terminal.innerHTML = "";
          break;

        default:
          appendLine("Command not found: " + raw);
      }

      makePrompt();
    }

    (async function () {
      await typeText("Initializing portfolio system...");
      await typeText("Loading modules...");
      await typeText("System ready.");
      appendLine("Type 'help' for commands.", "small");
      appendLine();
      makePrompt();
    })();
  </script>
</body>
</html>
